[program:shopify_bulk_manager_api]
command=/home/ubuntu/shopify-bulk-manager/venv/bin/gunicorn app:app --workers 4 --worker-class uvicorn.workers.UvicornWorker --bind 127.0.0.1:8000 --timeout 300 --access-logfile /home/ubuntu/shopify-bulk-manager/logs/gunicorn-access.log --error-logfile /home/ubuntu/shopify-bulk-manager/logs/gunicorn-error.log
directory=/home/ubuntu/shopify-bulk-manager
user=ubuntu
autostart=true
autorestart=true
stopasgroup=true
killasgroup=true
stderr_logfile=/var/log/supervisor/shopify_api_err.log
stdout_logfile=/var/log/supervisor/shopify_api_out.log
environment=PATH="/home/ubuntu/shopify-bulk-manager/venv/bin"

[program:shopify_bulk_manager_worker]
command=/home/ubuntu/shopify-bulk-manager/venv/bin/celery -A server.workers.celery_config worker --loglevel=info --concurrency=4
directory=/home/ubuntu/shopify-bulk-manager
user=ubuntu
autostart=true
autorestart=true
stopasgroup=true
killasgroup=true
stderr_logfile=/var/log/supervisor/shopify_worker_err.log
stdout_logfile=/var/log/supervisor/shopify_worker_out.log
environment=PATH="/home/ubuntu/shopify-bulk-manager/venv/bin"

[program:shopify_bulk_manager_beat]
command=/home/ubuntu/shopify-bulk-manager/venv/bin/celery -A server.workers.celery_config beat --loglevel=info
directory=/home/ubuntu/shopify-bulk-manager
user=ubuntu
autostart=true
autorestart=true
stopasgroup=true
killasgroup=true
stderr_logfile=/var/log/supervisor/shopify_beat_err.log
stdout_logfile=/var/log/supervisor/shopify_beat_out.log
environment=PATH="/home/ubuntu/shopify-bulk-manager/venv/bin"
